(this["webpackJsonpmy-working-hours"]=this["webpackJsonpmy-working-hours"]||[]).push([[0],{62:function(e,t,a){e.exports=a(84)},79:function(e,t,a){},80:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),s=a.n(o),c=a(32),i=a(24),u=a(16),l=a(17),m=a(21),d=a(18),h=a(22),p=a(114),f=a(115),g=a(42);a(67);g.initializeApp({apiKey:"AIzaSyD_Ng68vtXdquFcfMrcW76XBhboXErYrh8",databaseURL:"https://working-hours-52642.firebaseio.com/",projectId:"working-hours-52642"});var b=g.firestore(),E=a(29),v=a(34),O="user/LOGIN",k=function(e){return{type:O,user:e}},j={isLogined:!1,userName:""};var w=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).login=function(e){e.preventDefault(),b.collection("users").doc(a.state.userName).get().then((function(e){e.exists?a.props.login(e.data().userId):console.log("not exist user")})).catch((function(e){console.error(e)}))},a.logout=function(e){a.props.logout()},a.handleNameChange=function(e){a.setState({userName:e.target.value})},a.state={userName:""},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement("form",{onSubmit:this.login},r.a.createElement(p.a,{id:"userName",name:"userName",onChange:this.handleNameChange,label:"\uc774\ub984"}),r.a.createElement(f.a,{type:"submit"},"LOGIN")),r.a.createElement(f.a,{type:"button",onClick:this.logout},"LOGOUT"),r.a.createElement("div",null,r.a.createElement(c.b,{to:"work"},"\ucd9c\ud1f4\uadfc")),r.a.createElement("div",null,r.a.createElement(c.b,{to:"study"},"\uacf5\ubd80 \ud0c0\uc774\uba38")),r.a.createElement("div",null,r.a.createElement(c.b,{to:"logs"},"\uae30\ub85d\ud655\uc778")))}}]),t}(r.a.Component),N=Object(E.b)((function(e){return{user:e}}),{login:k,logout:function(e){return{type:"user/LOGOUT",user:e}}})(w),D=(a(79),function(e){return r.a.createElement("div",{id:"header",className:"header"},e.date)}),y=(a(80),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).formatDate=function(e){return e.getHours()+"\uc2dc "+e.getMinutes()+"\ubd84 "+e.getSeconds()+"\ucd08"},a.handleClickStartWork=function(){a.setState({start:a.formatDate(new Date)})},a.handleClickEndWork=function(){a.setState({end:a.formatDate(new Date)})},a.state={start:"-",end:"-"},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){this.props!==e&&this.setState(Object(v.a)({},this.state,{start:this.formatDate(new Date(1e3*this.props.startTime)),end:this.formatDate(new Date(1e3*this.props.endTime))}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Main"},r.a.createElement("div",{id:"start",className:"start_work"},this.state.start),r.a.createElement("div",{id:"end",className:"end_work"},this.state.end),r.a.createElement("div",{id:"buttonBox",className:"button_box"},r.a.createElement("button",{className:"work_btn default",onClick:this.handleClickStartWork},this.props.startWord),r.a.createElement("button",{className:"work_btn default",onClick:this.handleClickEndWork},this.props.endWord)))}}]),t}(r.a.Component)),C=function(e){return r.a.createElement("div",{className:"App"},r.a.createElement(D,{date:function(){var e=new Date;return e.getFullYear()+"\ub144 "+(e.getMonth()+1)+"\uc6d4 "+e.getDate()+"\uc77c"}()}),r.a.createElement(y,{startWord:"\uc2dc\uc791",endWord:"\ub05d"}))},T=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).getDoc=function(){(console.log(a.props),a.props.user.isLogined)&&b.collection("users").doc(a.props.user.userName).collection("work").where("start","<=",new Date).get().then((function(e){e.forEach((function(e){a.setState({startTime:e.data().start.seconds,endTime:e.data().end.seconds})}))}))},a.getDate=function(){var e=new Date;return e.getFullYear()+"\ub144 "+(e.getMonth()+1)+"\uc6d4 "+e.getDate()+"\uc77c"},a.state={startTime:"-",endTime:"-"},a.getDoc(),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(D,{date:this.getDate()}),r.a.createElement(y,{startWord:"\ucd9c\uadfc",endWord:"\ud1f4\uadfc",startTime:this.state.startTime,endTime:this.state.endTime}))}}]),t}(r.a.Component),W=Object(E.b)((function(e){return{user:e}}),{login:k})(T),L=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"log page")}}]),t}(r.a.Component),S=a(56),x=function(e){var t=e.store,a=e.persistor;return r.a.createElement(E.a,{store:t},r.a.createElement(S.a,{loading:null,persistor:a},r.a.createElement(c.a,{basename:"/working-hours"},r.a.createElement(i.a,{exact:!0,path:"/",component:N}),r.a.createElement(i.a,{path:"/work",component:W}),r.a.createElement(i.a,{path:"/study",component:C}),r.a.createElement(i.a,{path:"/logs",component:L}))))},I=a(19),_=a(46),G=a(57),M=a.n(G);a(83),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U={key:"root",storage:M.a},A=Object(_.a)(U,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(v.a)({},e,{isLogined:!0,userName:t.user});case"user/LOGOUT":return Object(v.a)({},e,{isLogined:!1,userName:t.user});default:return e}})),B=Object(I.c)(A),F=Object(_.b)(B);s.a.render(r.a.createElement(x,{store:B,persistor:F}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[62,1,2]]]);
//# sourceMappingURL=main.910548c4.chunk.js.map